// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["mongoDb"]
}

datasource db {
  provider = "mongodb"
  url      = env("DATABASE_URL")
}

model Coins {
  id      String    @id @default(dbgenerated()) @map("_id") @db.ObjectId
  id_coin Int
  name    String
  symbol  String    @unique
  history History[]

  @@map("coins")
}

model History {
  id                   String   @id @default(dbgenerated()) @map("_id") @db.ObjectId
  price                Float
  valume_24h           Float
  volume_change_24h    Float
  percent_change_1h    Float
  percent_change_24h   Float
  percent_change_7d    Float
  percent_change_30d   Float
  percent_change_60d   Float
  percent_change_90d   Float
  market_cap           Float
  market_cap_dominance Float
  date                 DateTime
  circulating_supply   Float
  total_supply         Float
  max_supply           Float?

  Coins   Coins @relation(fields: [coinsId], references: [id_coin])
  coinsId Int

  @@map("history")
}

// data

//  date = data.last_updated
// Coin = data.symbol
// price = data.quote.USD.price
// volume_24hr = data.quote.USD.volume_24h
// value_change_24hr = data.quote.USD.volume_change_24h
// percent_change_1h = data.quote.USD.percent_change_1h
// percent_change_24hr = data.quote.USD.percent_change_24h
//percent_change_7d = data.quote.USD.percent_change_7d
//percent_change_30d=data.quote.USD.percent_change_30d
// percent_change_60d= data.quote.USD.percent_change_60d
// percent_change_90d= data.quote.USD.percent_change_90d
//market_cap= data.quote.USD.market_cap
// market_cap_dominance= data.quote.USD.market_cap_dominance
// circulating_supply = data.circulating_supply
// total_supply = data.total_supply
// max_supply  = data.max_supply
